	config.eventcfg = {		
		dataImportParam: function() {
			var roleId = this.grid.fkValue;			var options = {				whereSql: 'fun_id not in (select fun_id from sys_role_fun where role_id = ?)',				whereValue: roleId,				whereType: 'string'			};			return options;		},				clearSql: function(selfunid) {			var params = 'selfunid=' + selfunid + '&funid=sys_role_fun';			params += '&pagetype=grid&eventcode=clearsql';			//发送请求，清除数据权限SQL缓存			Request.postRequest(params, null);		},

		setData: function(){
			var records = this.grid.getSelectionModel().getSelections();
			if (!JxUtil.selectone(records)) return;
			var pkcol = this.define.pkcol;			var selfunid = records[0].get(pkcol);						//过滤条件			var where_sql = 'sys_role_data.role_fun_id = ?';			var where_type = 'string';			var where_value = selfunid;						//加载数据			var hdcall = function(grid) {				//显示数据				JxUtil.delay(500, function(){					//设置外键值					grid.fkValue = where_value;					Jxstar.loadData(grid, {where_sql:where_sql, where_value:where_value, where_type:where_type});				});			};			var srcDefine = Jxstar.findNode('sys_role_data');			//显示数据			Jxstar.showData({				filename: srcDefine.gridpage,				title: srcDefine.nodetitle, 				pagetype: 'subgrid',				nodedefine: srcDefine,				callback: hdcall			});						//清除数据权限SQL缓存			this.clearSql(selfunid);
		},				setOtherEvent: function(){			var records = this.grid.getSelectionModel().getSelections();			if (!JxUtil.selectone(records)) return;			var pkcol = this.define.pkcol;			var selfunid = records[0].get(pkcol);						//过滤条件			var where_sql = 'sys_role_event.role_fun_id = ?';			var where_type = 'string';			var where_value = selfunid;						//加载数据			var hdcall = function(grid) {				//显示数据				JxUtil.delay(500, function(){					//设置外键值					grid.fkValue = where_value;					Jxstar.loadData(grid, {where_sql:where_sql, where_value:where_value, where_type:where_type});				});			};			var srcDefine = Jxstar.findNode('sys_role_event');			//显示数据			Jxstar.showData({				filename: srcDefine.gridpage,				title: srcDefine.nodetitle, 				pagetype: 'subgrid',				nodedefine: srcDefine,				callback: hdcall			});		},				addDataType: function(pageType){			var title = jx.sys.moreadd;	//'批量添加'			if (pageType == 'deltype') title = jx.sys.moredel;	//'批量删除'						var records = this.grid.getSelectionModel().getSelections();			if (!JxUtil.selected(records)) return;			var selfunid = '';			var pkcol = this.define.pkcol;			if (records.length > 0) {				for (var i = 0, n = records.length; i < n; i++) {					selfunid += records[i].get(pkcol) + ',';				}				selfunid =selfunid.substring(0, selfunid.length - 1);			}						//加载数据			var hdcall = function(grid) {				//显示数据				JxUtil.delay(500, function(){					//设置外键值					grid.fkValue = selfunid;					Jxstar.loadData(grid, {where_sql:'', where_value:'', where_type:''});				});			};			//显示数据			Jxstar.showData({				filename: '/jxstar/system/grid_sys_datatype.js',				title: title+jx.sys.dataright,	//'数据权限'				pagetype: pageType,				nodedefine: Jxstar.findNode('sys_datatype'),				callback: hdcall			});						//清除数据权限SQL缓存			this.clearSql(selfunid);		},				/**		* 设置指定列所有记录的值		* type -- 列名		* value -- 列的值		**/		setColValue: function(type, value) {			var fieldName = 'sys_role_fun__is_'+type;						var store = this.grid.getStore();			for (var i = 0, n = store.getCount(); i < n; i++) {				var record = store.getAt(i);								record.set(fieldName, value);			}		}		
	};