(function(a){a.fn.fileinput=function(b){var c=this,d='<button class="fileinput">Browse...</button>';return b&&(b instanceof jQuery?d=a(b).wrap("<div />").parent().html():d=b),c.each(function(){var b=a(this);b.wrap('<div class="fileinput-wrapper" style="position: relative; display: inline-block;" />'),b.attr("tabindex","-1").css({"font-size":"100px",height:"100%",filter:"alpha(opacity=0)","-moz-opacity":0,opacity:0,position:"absolute",right:0,top:0,"z-index":-1}),b.before(d),b.prev().addClass("fileinput");var c=a.browser;c.opera||c.mozilla&&c.version<"2.0"?(b.css("z-index","auto"),b.prev(".fileinput").css("z-index",-1),b.removeAttr("tabindex"),b.prev(".fileinput").attr("tabindex","-1"),b.hover(function(){a(this).prev(".fileinput").addClass("hover")},function(){a(this).prev(".fileinput").removeClass("hover")}).focusin(function(){a(this).prev(".fileinput").addClass("focus")}).focusout(function(){a(this).prev(".fileinput").removeClass("focus")}).mousedown(function(){a(this).prev(".fileinput").addClass("active")}).mouseup(function(){a(this).prev(".fileinput").removeClass("active")})):(b.prev(".fileinput").click(function(){b.click()}),b.prev(":submit.fileinput").click(function(a){a.preventDefault()}))}),c}})(jQuery)